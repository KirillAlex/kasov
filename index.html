<!DOCTYPE html>
<html lang="bg">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>–ö–∞—Å–æ–≤ –∫–∞–ª–∫—É–ª–∞—Ç–æ—Ä</title>

<style>
:root{
  --bg: #f4f6f9;
  --card: #ffffff;
  --text: #111827;
  --muted: #6b7280;
  --border: #e5e7eb;
  --focus: rgba(79,70,229,0.18);

  --btn: #ef4444;
  --btnText: #ffffff;

  --successBg: #ecfdf5;
  --successText: #065f46;

  --errorBg: #fef2f2;
  --errorText: #991b1b;

  --shadow: 0 20px 40px rgba(0,0,0,0.08);
}

[data-theme="dark"]{
  --bg: #0b1220;
  --card: #0f172a;
  --text: #e5e7eb;
  --muted: #94a3b8;
  --border: rgba(255,255,255,0.10);
  --focus: rgba(99,102,241,0.25);

  --btn: #ef4444;
  --btnText: #ffffff;

  --successBg: rgba(34,197,94,0.14);
  --successText: #86efac;

  --errorBg: rgba(239,68,68,0.14);
  --errorText: #fca5a5;

  --shadow: 0 22px 50px rgba(0,0,0,0.45);
}

*{ box-sizing:border-box; font-family: 'Segoe UI', system-ui, sans-serif; }

body{
  min-height:100vh;
  background: var(--bg);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:20px;
  color: var(--text);
  transition: background .2s ease, color .2s ease;
}

.box{
  width:100%;
  max-width:430px;
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 22px;
  padding: 22px;
  box-shadow: var(--shadow);
  transition: background .2s ease, border-color .2s ease, box-shadow .2s ease;
}

.header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  margin-bottom: 10px;
}

h2{
  margin:0;
  font-size: 20px;
  font-weight: 700;
  letter-spacing: .2px;
}

.themeBtn{
  display:flex;
  align-items:center;
  gap:8px;
  padding:10px 12px;
  border-radius: 14px;
  border: 1px solid var(--border);
  background: transparent;
  color: var(--text);
  cursor:pointer;
  font-weight: 600;
  transition: transform .15s ease, background .15s ease, border-color .2s ease;
}
.themeBtn:hover{ transform: translateY(-1px); }
.themeBtn:active{ transform: translateY(0); }

.sub{
  margin: 6px 0 16px 0;
  color: var(--muted);
  font-size: 13px;
}

label{
  display:block;
  margin-top: 14px;
  font-size: 13px;
  color: var(--muted);
  font-weight: 600;
}

input{
  width:100%;
  height:52px;
  margin-top:6px;
  padding: 0 14px;
  font-size: 18px;
  border-radius: 14px;
  border: 1px solid var(--border);
  background: transparent;
  color: var(--text);
  outline:none;
  transition: border-color .15s ease, box-shadow .15s ease, background .2s ease, color .2s ease;
}

input:focus{
  border-color:#6366f1;
  box-shadow: 0 0 0 3px var(--focus);
}

.result{
  margin-top: 18px;
  padding: 14px;
  border-radius: 14px;
  font-size: 18px;
  font-weight: 700;
  text-align:center;
  display:none;
  border: 1px solid var(--border);
}

.success{ background: var(--successBg); color: var(--successText); }
.error{ background: var(--errorBg); color: var(--errorText); }

button.clear{
  width:100%;
  height:54px;
  margin-top: 18px;
  font-size: 18px;
  font-weight: 700;
  border-radius: 16px;
  border:none;
  cursor:pointer;
  background: var(--btn);
  color: var(--btnText);
  transition: transform .15s ease, box-shadow .15s ease;
}

button.clear:hover{
  transform: translateY(-2px);
  box-shadow: 0 12px 22px rgba(239,68,68,0.25);
}

.footerNote{
  margin-top: 12px;
  font-size: 12px;
  color: var(--muted);
  text-align:center;
}
</style>
</head>

<body>

<div class="box">
  <div class="header">
    <h2>–ö–∞—Å–æ–≤ –∫–∞–ª–∫—É–ª–∞—Ç–æ—Ä</h2>
    <button class="themeBtn" id="themeToggle" type="button" onclick="toggleTheme()">üåô –¢—ä–º–µ–Ω</button>
  </div>


  <label>–¶–µ–Ω–∞ (EUR)</label>
  <input id="cenaEUR" type="number" step="0.01" placeholder="0.00" />

  <label>–î–∞–¥–µ–Ω–æ –≤ –ª–µ–≤–∞ (BGN)</label>
  <input id="dadenoBGN" type="number" step="0.01" placeholder="0.00" />

  <label>–î–∞–¥–µ–Ω–æ –≤ –µ–≤—Ä–æ (EUR)</label>
  <input id="dadenoEUR" type="number" step="0.01" placeholder="0.00" />

  <div id="result" class="result"></div>

  <button class="clear" onclick="izchisti()">–ò–∑—á–∏—Å—Ç–∏</button>

  <div class="footerNote">–ö—É—Ä—Å: 1 EUR = 1.95583 BGN</div>
</div>

<script>
var KURS = 1.95583;

function presmetni() {
  var cena = parseFloat(cenaEUR.value);
  var bgn = parseFloat(dadenoBGN.value) || 0;
  var eur = parseFloat(dadenoEUR.value) || 0;

  if (isNaN(cena)) {
    result.style.display = "none";
    return;
  }

  var sumEUR = eur + (bgn / KURS);
  var restoEUR = sumEUR - cena;

  result.style.display = "block";

  if (restoEUR < 0) {
    result.className = "result error";
    result.innerHTML = "‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç—ä—á–Ω–∞ —Å—É–º–∞";
    return;
  }

  var restoBGN = restoEUR * KURS;

  result.className = "result success";
  result.innerHTML =
    "–†–µ—Å—Ç–æ:<br>" +
    restoEUR.toFixed(2) + " EUR<br>" +
    restoBGN.toFixed(2) + " –ª–≤";
}

function izchisti() {
  cenaEUR.value = "";
  dadenoBGN.value = "";
  dadenoEUR.value = "";
  result.style.display = "none";
}

function applyTheme(theme){
  document.documentElement.setAttribute("data-theme", theme);
  localStorage.setItem("theme", theme);

  // –±—É—Ç–æ–Ω —Ç–µ–∫—Å—Ç/–∏–∫–æ–Ω–∞
  themeToggle.textContent = theme === "dark" ? "‚òÄÔ∏è –°–≤–µ—Ç—ä–ª" : "üåô –¢—ä–º–µ–Ω";
}

function toggleTheme(){
  var current = document.documentElement.getAttribute("data-theme") || "light";
  applyTheme(current === "dark" ? "light" : "dark");
}

// –í—Ä—ä–∑–∫–∏
cenaEUR.addEventListener("input", presmetni);
dadenoBGN.addEventListener("input", presmetni);
dadenoEUR.addEventListener("input", presmetni);

// –ó–∞—Ä–µ–∂–¥–∞–Ω–µ –Ω–∞ —Ç–µ–º–∞
(function initTheme(){
  var saved = localStorage.getItem("theme") || "light";
  applyTheme(saved);
})();
</script>

</body>
</html>
